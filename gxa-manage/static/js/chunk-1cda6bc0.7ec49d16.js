(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cda6bc0"],{"229f":function(t,e,n){"use strict";n("c6bb")},5109:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("type-list",{attrs:{list:t.typeList},on:{deleteType:t.deleteType,addType:t.addType,updateType:t.updateType}}),n("add-type",{ref:"addType",on:{addType:t.addTypeSubmit}}),n("update-type",{ref:"updateType",attrs:{ruleform:t.singleData,uid:t.activeUserId},on:{updateType:t.updateTypeSubmit}})],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{attrs:{data:t.showList,height:"600",stripe:""}},[n("el-table-column",{attrs:{label:"ID",align:"center",prop:"id",width:"100",fixed:""}}),n("el-table-column",{attrs:{label:"商品类型",align:"center",prop:"content",width:"200"}}),n("el-table-column",{attrs:{align:"right","min-width":"450"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",[n("el-button",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.addType}},[t._v(" 添加类型 ")]),n("el-input",{staticStyle:{width:"250px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"输入关键字搜索",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._e()]}},{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"medium",type:"warning",icon:"el-icon-edit",circle:""},on:{click:function(n){return t.handleUpdate(e.$index,e.row)}}}),n("el-button",{attrs:{size:"medium",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}})]}}])})],1)},s=[],r=(n("4de4"),n("ac1f"),n("841c"),n("caad"),n("2532"),{props:{list:{type:Array,default:function(){return[]}}},data:function(){return{singleData:[],search:""}},computed:{showList:function(){var t=this;return this.list.filter((function(e){return""===t.search||!!e.content.toLowerCase().includes(t.search.toLowerCase())}))}},methods:{handleDelete:function(t,e){this.$emit("deleteType",e)},handleUpdate:function(t,e){this.singleData=e,this.$emit("updateType",e)},addType:function(){this.$emit("addType")}}}),c=r,l=(n("229f"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"8969e3fa",null),d=u.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"新建类型",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"类型:","label-width":"100px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},p=[],m={data:function(){return{dialogVisible:!1,form:{content:""},formLabelWidth:"100px"}},methods:{submit:function(){this.$emit("addType",this.form),this.dialogVisible=!1}}},h=m,g=Object(l["a"])(h,f,p,!1,null,"ffe69986",null),b=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"编辑类型",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"类型:","label-width":"100px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},T=[],v=(n("a9e3"),{props:{ruleform:{type:Object,default:function(){return{}}},uid:{type:Number,default:0}},data:function(){return{dialogVisible:!1,form:{alter_id:0,content:""},formLabelWidth:"100px"}},watch:{ruleform:function(t,e){this.form.alter_id=t.id,this.form.content=t.content}},methods:{submit:function(){this.form.alert_id=this.uid,this.$emit("updateType",this.form),this.dialogVisible=!1}}}),w=v,$=Object(l["a"])(w,y,T,!1,null,"2ff24c5e",null),x=$.exports,_=n("a01c"),j={components:{AddType:b,TypeList:d,UpdateType:x},data:function(){return{singleData:{},activeUserId:null,typeList:[]}},created:function(){this.getTypeLists()},methods:{getTypeLists:function(){var t=this;Object(_["c"])().then((function(e){t.typeList=e}))},addType:function(){this.$refs.addType.dialogVisible=!0},updateType:function(t){this.singleData=t,this.activeUserId=t.id,this.$refs.updateType.dialogVisible=!0},addTypeSubmit:function(t){var e=this;Object(_["a"])(t).then((function(t){e.$message({type:"success",message:t}),e.getTypeLists()})).catch((function(t){e.$message({type:"warning",message:t})}))},updateTypeSubmit:function(t){var e=this;Object(_["d"])(t).then((function(t){e.$message({type:"success",message:t}),e.getTypeLists()})).catch((function(t){e.$message({type:"warning",message:t})}))},deleteType:function(t){var e=this;this.$confirm("此操作将删除该类型, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_["b"])(t).then((function(t){e.getTypeLists(),e.$message({type:"success",message:t.msg})})).catch((function(t){e.$message({type:"warning",message:t})}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))}}},O=j,k=Object(l["a"])(O,i,o,!1,null,"a4336826",null);e["default"]=k.exports},a01c:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return r}));n("d3b7");var i=n("b775"),o=function(){return new Promise((function(t,e){Object(i["a"])({url:"/onlinejudge/admin/manage/goods/type/gets/goodstypelist",method:"get"}).then((function(n){0!==n.code&&e(n.msg),t(n.data)}))}))},a=function(t){return new Promise((function(e,n){Object(i["a"])({url:"/onlinejudge/admin/manage/goods/type/add",method:"post",data:JSON.stringify(t)}).then((function(t){0!==t.code&&n(t.msg),e(t.msg)}))}))},s=function(t){return new Promise((function(e,n){Object(i["a"])({url:"/onlinejudge/admin/manage/goods/type/delete",method:"delete",data:JSON.stringify({delete_id:t.id})}).then((function(t){0!==t.code&&n(t.msg),e(t)}))}))},r=function(t){return new Promise((function(e,n){Object(i["a"])({url:"/onlinejudge/admin/manage/goods/type/update",method:"post",data:JSON.stringify(t)}).then((function(t){0!==t.code&&n(t.msg),e(t.msg)}))}))}},c6bb:function(t,e,n){}}]);